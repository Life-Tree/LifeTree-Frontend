
<app-header titulo="Reportar arbol enfermo"></app-header>

<ion-content>
  <mat-stepper 
  [linear]="true" 
  color="success"
  #stepper 
  style="background: var(--ion-color-background)"
  labelPosition="bottom"
  class="quad center">
    <mat-step state="personal" completed="false">      
        <ng-template  matStepLabel>Personal</ng-template>
        <app-personal [stepper]="stepper"></app-personal>   
    </mat-step>
    
    <mat-step label="Especie" state="species" completed="false">
        <app-species [stepper]="stepper"></app-species>           
    </mat-step>

    <mat-step state="images" completed="false">
      <ng-template matStepLabel>Fotos</ng-template>
      <app-photos [stepper]="stepper"></app-photos>
    </mat-step>

    <!-- Icon overrides. -->
  <ng-template matStepperIcon="home">
    <mat-icon aria-hidden="false" aria-label="Example home icon">perm_contact_calendar</mat-icon>
  </ng-template>
  <ng-template matStepperIcon="species">
    <mat-icon>list_alt</mat-icon>
  </ng-template>
  <ng-template matStepperIcon="images">
    <mat-icon>perm_media</mat-icon>
  </ng-template>
  </mat-stepper>  
</ion-content>

<!-- OLD CONTENT -->

<!-- <ion-content  fullscreen class="{{reportState.loading ? 'fondo-transparente': 'fondo-normal'}}">
  <div class="spin" *ngIf="reportState.loading">
    <ion-spinner name="lines" ></ion-spinner>
    
  </div>
  <ion-card>    
    <ion-card-header style="text-align: center;">
      <img src="../../../assets/imgArbol.png" />      
    </ion-card-header>
    <ion-card-content style="text-align: center;">
      <ion-card-title><strong>Registre un árbol</strong> </ion-card-title>

      <ion-item lines="none">
        <ion-label color="Primary" >Añadir imagenes</ion-label>
        <ion-label color="Primary">({{this.imageSet.images.length}}/4)</ion-label>
      </ion-item>

      <div class="position-button">
        <button *ngIf="!framesLoaded.get('HOJAS').loaded" (click)="setArbolPicture('HOJAS')" class="edit-button buttons-rigth">
            <div><h1><b>+</b></h1></div>
            <div><p class="edit-text">Hojas</p></div>       
        </button>
        <div *ngIf="framesLoaded.get('HOJAS').loaded" 
        class="edit-button buttons-rigth image-bg" 
        [style.background-image]="'url('+framesLoaded.get('HOJAS').path+')'">
          <button class="cancel-button" (click) = "unsetArbolPicture('HOJAS')">
            <ion-icon class="cancel-icon" name="close-outline" ></ion-icon>
          </button>
        </div>

        <button *ngIf="!framesLoaded.get('RAIZ').loaded" (click)="setArbolPicture('RAIZ')" class="edit-button">
          <div><h1><b>+</b></h1></div>
          <div><p class="edit-text">Raiz</p></div>
        </button>
        <div *ngIf="framesLoaded.get('RAIZ').loaded" 
        class="edit-button image-bg" 
        [style.background-image]="'url('+framesLoaded.get('RAIZ').path+')'">
          <button class="cancel-button" (click) = "unsetArbolPicture('RAIZ')">
            <ion-icon class="cancel-icon" name="close-outline" ></ion-icon>
          </button>
        </div>

        <button *ngIf="!framesLoaded.get('TALLO').loaded" (click)="setArbolPicture('TALLO')" class="edit-button buttons-rigth">
          <div><h1><b>+</b></h1></div>
          <div><p class="edit-text">Tallo</p></div>
        </button>
        <div *ngIf="framesLoaded.get('TALLO').loaded" 
        class="edit-button buttons-rigth image-bg" 
        [style.background-image]="'url('+framesLoaded.get('TALLO').path+')'">
          <button class="cancel-button" (click) = "unsetArbolPicture('TALLO')">
            <ion-icon class="cancel-icon" name="close-outline" ></ion-icon>
          </button>
        </div>

        <button *ngIf="!framesLoaded.get('FLOR').loaded" (click)="setArbolPicture('FLOR')" class="edit-button">
          <div><h1><b>+</b></h1></div>
          <div><p class="edit-text">Flor</p></div> 
        </button>
        <div *ngIf="framesLoaded.get('FLOR').loaded" 
        class="edit-button image-bg" 
        [style.background-image]="'url('+framesLoaded.get('FLOR').path+')'">
          <button class="cancel-button" (click) = "unsetArbolPicture('FLOR')">
            <ion-icon class="cancel-icon" name="close-outline" ></ion-icon>
          </button>
        </div>

        <button *ngIf="!framesLoaded.get('FRUTO').loaded" (click)="setArbolPicture('FRUTO')" class="edit-button buttons-rigth">
          <div><h1><b>+</b></h1></div>
          <div><p class="edit-text">Fruto</p></div>
        </button>
        <div *ngIf="framesLoaded.get('FRUTO').loaded" 
        class="edit-button buttons-rigth image-bg" 
        [style.background-image]="'url('+framesLoaded.get('FRUTO').path+')'">
          <button class="cancel-button" (click) = "unsetArbolPicture('FRUTO')">
            <ion-icon class="cancel-icon" name="close-outline" ></ion-icon>
          </button>
        </div>

        <button *ngIf="!framesLoaded.get('PARTE_ENFERMA').loaded" (click)="setArbolPicture('PARTE_ENFERMA')" class="edit-button">
          <div><h1><b>+</b></h1></div>
          <div><p class="edit-text">Parte enferma</p></div>
        </button>
        <div *ngIf="framesLoaded.get('PARTE_ENFERMA').loaded" 
        class="edit-button image-bg" 
        [style.background-image]="'url('+framesLoaded.get('PARTE_ENFERMA').path+')'">
          <button class="cancel-button" (click) = "unsetArbolPicture('PARTE_ENFERMA')">
            <ion-icon class="cancel-icon" name="close-outline" ></ion-icon>
          </button>
        </div>

      </div>
    </ion-card-content>
  </ion-card>
  <ion-card>
    <ion-card-header class="ion-text-center">
      <ion-card-title><b>Describa mas el árbol</b> </ion-card-title>
    </ion-card-header>
    <ion-card-content>

      <ion-item>
        <ion-label color="Primary" position="floating">¿En que barrio está?</ion-label>
        <ion-input [(ngModel)]="barrio"></ion-input>
      </ion-item>
      <ion-item >
        <ion-label color="Primary" position="floating">¿Qué problema observa?</ion-label>
        <ion-textarea [(ngModel)]="descripcion"></ion-textarea>
      </ion-item>
      <ion-item detail="true" (click)="presentModal()">
        <ion-label color="Primary">Especie del árbol</ion-label>
        <ion-text slot="end"><b><i>{{specieSelected==null? 'seleccione...' : specieSelected.name}}</i></b></ion-text>   
      </ion-item>
    </ion-card-content>
  </ion-card>
</ion-content>

<ion-button [disabled] = "reportState.loading"
style="z-index: 3; opacity: 1;" 
color= "success"
shape="round" 
(click)="registrarArbol()">
  Reportar
</ion-button> -->
